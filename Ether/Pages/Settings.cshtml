@page "/settings"
@inject EtherClient Client

<VstsConfigurationSettings VstsDataSource="vstsDataSource" OnSave="Save">
</VstsConfigurationSettings>

@functions
{ 
    private VstsDataSourceViewModel vstsDataSource = new VstsDataSourceViewModel();
    protected override async Task OnInitAsync()
    {
        vstsDataSource = await Client.GetVstsDataSourceConfig();
    }

    private async Task Save(VstsDataSourceViewModel model)
    {
        await Client.SaveVstsDataSourceConfig(model);
    }
}