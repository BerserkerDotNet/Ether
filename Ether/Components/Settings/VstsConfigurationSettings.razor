<If Condition="@(Props.VstsDataSource == null)">
    <Then>
        <Spinner Text="Loading..." />
    </Then>
    <Else>
        <EditForm Model="Props.VstsDataSource" OnValidSubmit="@(async () => await Props.OnSave.InvokeAsync(Props.VstsDataSource))">
            <Card Title="Vsts configuration" AdditionalClasses="card-600">
                <Body>
                    <div class="form-group">
                        <label>Instance Name</label>
                        <InputText Class="form-control" @bind-Value="Props.VstsDataSource.InstanceName" />
                        <ValidationMessage For="@(() => Props.VstsDataSource.InstanceName)" />
                    </div>
                    <div class="form-group">
                        <label>Default Token</label>
                        <SelectInput Class="form-control" @bind-Value="Props.VstsDataSource.DefaultToken" Options="Props.IdentitiesOptions" />
                        <ValidationMessage For="@(() => Props.VstsDataSource.DefaultToken)" />
                    </div>
                </Body>
                <Footer><button type="submit" class="btn btn-success btn-fill pull-right">Save</button></Footer>
            </Card>
        </EditForm>
    </Else>
</If>

@code
{
    [Parameter] VstsConfigurationSettingsProps Props { get; set; }
}